<app-default-step [title]="title" [subtitle]="subtitle" [currentStepState]="1"
  [btnLast]="btnLast"
  [showBackIcon]="false" (submit)="submit()">

  <form>
    <div class="register-form">

      <div class="name">
        <div class="title name-title">
          <h3>{{ titleName }}</h3>
          <img
            *ngIf="hasError('name')"
            src="assets/svg/icon/default/attention.svg"
            class="attention-icon"
            [class.error-shake]="shouldAnimateError('name')"
            [matTooltip]="getErrorMessage('name')"
            matTooltipClass="error-tooltip"
            matTooltipPosition="above">
        </div>
        <app-primary-input [(ngModel)]="name"
          (ngModelChange)="onFieldChange('name', $event)" name="name"
          (focus)="onFieldFocus('name')"
          (blur)="onFieldBlur()"
          [placeholder]="placeholderName" maskType="alphabet" maxlength="50">
          <img src="assets/svg/icon/input/user.svg" alt>
        </app-primary-input>
      </div>

      <div class="email">
        <div class="title email-title">
          <h3>{{ titleEmail }}</h3>
          <img
            *ngIf="hasError('email')"
            src="assets/svg/icon/default/attention.svg"
            class="attention-icon"
            [class.error-shake]="shouldAnimateError('email')"
            [matTooltip]="getErrorMessage('email')"
            matTooltipPosition="above">
        </div>
        <app-primary-input [(ngModel)]="email"
          (ngModelChange)="onFieldChange('email', $event)" name="email"
          (focus)="onFieldFocus('email')"
          (blur)="onFieldBlur()"
          type="email" [placeholder]="placeholderEmail" maxlength="60">
          <img src="assets/svg/icon/input/email.svg" alt>
        </app-primary-input>
      </div>

      <div class="phone-and-enrollment">
        <div class="phone">
          <div class="title phone-title">
            <h3>{{ titlePhone }}</h3>
            <img
              *ngIf="hasError('phone')"
              src="assets/svg/icon/default/attention.svg"
              class="attention-icon"
              [class.error-shake]="shouldAnimateError('phone')"
              [matTooltip]="getErrorMessage('phone')"
              matTooltipPosition="above">
          </div>
          <app-primary-input [(ngModel)]="phone"
            (ngModelChange)="onPhoneChange($event)"
            (paste)="onPhonePaste($event)"
            (focus)="onFieldFocus('phone')"
            (blur)="onFieldBlur()"
            name="phone" [placeholder]="placeholderPhone" maskType="numbers"
            maxlength="15">
            <img src="assets/svg/icon/input/phone.svg" alt>
          </app-primary-input>
        </div>

        <div class="enrollment">
          <div class="title enrollment-title">
            <h3>{{ titleEnrollment }}</h3>

            <!-- WARNING (sempre visível) -->
            <img
              src="assets/svg/icon/default/warning.svg"
              class="attention-icon"
              [matTooltip]="tooltipEnrollment"
              matTooltipPosition="above">

            <!-- ATTENTION (só se houver erro) -->
            <img
              *ngIf="hasError('enrollment')"
              src="assets/svg/icon/default/attention.svg"
              class="attention-icon"
              [class.error-shake]="shouldAnimateError('enrollment')"
              [matTooltip]="getErrorMessage('enrollment')"
              matTooltipPosition="above">
          </div>

          <app-primary-input [(ngModel)]="enrollment"
            (ngModelChange)="onFieldChange('enrollment', $event)"
            (focus)="onFieldFocus('enrollment')"
            (blur)="onFieldBlur()"
            name="enrollment" [placeholder]="placeholderEnrollment"
            maxlength="25">
            <img src="assets/svg/icon/input/document.svg" alt>
          </app-primary-input>
        </div>
      </div>

      <div class="password-and-confirm">
        <div class="password">
          <div class="title password-title">
            <h3>{{ titlePassword }}</h3>
            <img
              *ngIf="hasError('password')"
              src="assets/svg/icon/default/attention.svg"
              class="attention-icon"
              [class.error-shake]="shouldAnimateError('password')"
              [matTooltip]="getErrorMessage('password')"
              matTooltipPosition="above">
          </div>
          <app-primary-input [(ngModel)]="password"
            (ngModelChange)="onFieldChange('password', $event)"
            (focus)="onFieldFocus('password')"
            (blur)="onFieldBlur()"
            name="password"
            type="password" [placeholder]="placeholderPassword"
            [isPassword]="true" maxlength="64">
            <img src="assets/svg/icon/input/password.svg" alt>
          </app-primary-input>
        </div>

        <div class="confirm-password">
          <div class="title confirm-password-title">
            <h3>{{ titleConfirmPassword }}</h3>
            <img
              *ngIf="hasError('confirmPassword')"
              src="assets/svg/icon/default/attention.svg"
              class="attention-icon"
              [class.error-shake]="shouldAnimateError('confirmPassword')"
              [matTooltip]="getErrorMessage('confirmPassword')"
              matTooltipPosition="above">
          </div>
          <app-primary-input [(ngModel)]="confirmPassword"
            (ngModelChange)="onFieldChange('confirmPassword', $event)"
            (focus)="onFieldFocus('confirmPassword')"
            (blur)="onFieldBlur()"
            name="confirmPassword" type="password"
            [placeholder]="placeholderConfirmPassword" [isPassword]="true"
            maxlength="64">
            <img src="assets/svg/icon/input/password.svg" alt>
          </app-primary-input>
        </div>
      </div>

    </div>
  </form>
</app-default-step>
